# Leads Distributor Test Case

---

# ОТ АВТОРА
Проект сделан минимально-работоспособным, "на коленке". Код не красивый, документации нет, README тоже как попало. Сейчас сброшу на git а потом уже допилю до ума


## О проекте

CRM, предназначенная для распределения лидов между операторами по источникам.

**Цель проекта:** ааааааа.

## Основные возможности

- Управление операторами;
- Настройка распределения по источникам;
- Регистрация обращения;
- Просмотр состояния;
- Простое распределение по нагрузке (пока что реализовано через random).

## Технологический стек

**Язык:** Python 3.11+

**Web-фреймворк:** FastAPI

**ORM:** SQLAlchemy

**База данных:** SQLite

## Установка и запуск
Рекомендуется создать виртуальное окружение и установить зависимости:

### Клонирование проекта

```bash
git clone https://[актуальный адрес проекта].git
cd leads_distributor_test_case
```


### Создание виртуального окружения

Для Windows:
```bash
python -m venv .venv
```

Для Linux:
```bash
python3 -m venv venv
```

### Активация виртуального окружения

Для Windows:
```bash
.venv\Scripts\activate 
```

Для Linux:
```bash
source venv/bin/activate
```

### Установка зависимостей

```bash
pip install -r requirements.txt
```


## Запуск
```bash
uvicorn uvicorn app.main:app --reload
```

## API (основные эндпоинты)
- `POST /operators/` — создать оператора
- `GET /operators/` — список операторов
- `PATCH /operators/{id}` — изменить active/limit
- `POST /sources/` — создать источник
- `POST /sources/{source_id}/operators/` — назначить оператора на источник
- `POST /contacts/` — создать обращение
- `GET /leads/` — список лидов
- `GET /stats/` — основная статистика
